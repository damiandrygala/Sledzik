(globalThis["webpackChunktracker_project"]=globalThis["webpackChunktracker_project"]||[]).push([[217],{1217:(l,n,e)=>{"use strict";e.r(n),e.d(n,{default:()=>K});var t=e(9835),o=e(6970),i=e(5370),c=e.n(i);const s=(0,t._)("br",null,null,-1),a=(0,t._)("br",null,null,-1),u={class:"q-pa-lg"},d=(0,t._)("div",{class:"flex flex-center"},[(0,t._)("img",{alt:"Fish",src:c(),style:{width:"200px",height:"200px"}})],-1),M=(0,t._)("br",null,null,-1),g=(0,t._)("br",null,null,-1),I={class:"q-ma-lg"},r={class:"q-pa-xs"},w={class:"row"},N=(0,t._)("br",null,null,-1),C=(0,t._)("br",null,null,-1),j=(0,t.Uk)(" POSITION: "),y=(0,t._)("br",null,null,-1),z=(0,t._)("br",null,null,-1),b=(0,t._)("br",null,null,-1),D=(0,t._)("br",null,null,-1),v=(0,t._)("br",null,null,-1),k=(0,t.Uk)(" FULL RESPONSE: "),T=(0,t._)("br",null,null,-1),L=(0,t._)("br",null,null,-1);function p(l,n,e,i,c,p){const P=(0,t.up)("q-scroll-area"),x=(0,t.up)("GeoLocationVue"),m=(0,t.up)("q-btn");return(0,t.wg)(),(0,t.iD)(t.HY,null,[s,a,(0,t._)("div",u,[d,M,g,(0,t._)("div",I,[(0,t.Wm)(P,{"thumb-style":l.thumbStyle,"content-style":l.contentStyle,"content-active-style":l.contentActiveStyle,style:{height:"230px","max-width":"full-width"}},{default:(0,t.w5)((()=>[(0,t._)("div",r,[(0,t._)("div",w,[N,(0,t.Uk)(" PHONE ID: "+(0,o.zw)(l.displayPhoneId)+" ",1),C,j,y,(0,t.Uk)(" "+(0,o.zw)(l.data)+" ",1),z,b,(0,t.Uk)(" RESPONSE: "+(0,o.zw)(l.responseFromSledzik)+" ",1),D,v,k,T,(0,t.Uk)(" "+(0,o.zw)(l.fullResponseFromSledzik)+" ",1),L])])])),_:1},8,["thumb-style","content-style","content-active-style"])]),(0,t._)("div",null,[(0,t.Wm)(x,{onPositionChanged:l.positionChanged},null,8,["onPositionChanged"])]),(0,t.Wm)(m,{label:"Send device",onClick:l.onSendButton},null,8,["onClick"])])],64)}var P=e(499);const x={class:"q-pa-md"},m={key:0,class:"column justify-center"},S={key:1,class:"column justify-center"};function h(l,n,e,o,i,c){const s=(0,t.up)("q-btn");return(0,t.wg)(),(0,t.iD)("div",x,[o.isClicked?((0,t.wg)(),(0,t.iD)("div",m,[(0,t.Wm)(s,{class:"full-width",color:"blue-6",label:"Begin tracking",icon:"timeline",push:"",size:"lg",onClick:n[0]||(n[0]=l=>o.onStartButton())})])):(0,t.kq)("",!0),o.isClicked?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",S,[(0,t.Wm)(s,{class:"full-width",color:"red-6",label:"Finish tracking",icon:"map",push:"",size:"lg",onClick:n[1]||(n[1]=l=>o.onFinishButton())})]))])}var Z=e(6097),O=e(9302),H=e(743);const G={setup(l,{emit:n}){const e=(0,P.iH)("determining..."),o=(0,P.iH)(""),i=(0,P.iH)(!0),c=(0,O.Z)();let s;const a=async()=>{i.value=!i.value,c.loading.show(),o.value=await Z.b.watchPosition({},((l,t)=>{e.value=l,console.log("newPosition co to jest: ",l),n("positionChanged",{longitude:l.coords.longitude,latitude:l.coords.latitude})})),s=setTimeout((()=>{c.loading.hide(),s=void 0}),300)},u=async()=>{c.loading.show(),i.value=!i.value,d(),s=setTimeout((()=>{c.loading.hide(),s=void 0}),300)};(0,t.Jd)((async()=>{await d(),void 0!==s&&(clearTimeout(s),c.loading.hide())}));const d=async()=>{await Z.b.clearWatch({id:o.value})};return{position:e,onStartButton:a,onFinishButton:u,isClicked:i}}};var E=e(1639),Q=e(7065),U=e(9984),B=e.n(U);const A=(0,E.Z)(G,[["render",h]]),W=A;B()(G,"components",{QBtn:Q.Z});const _="http://192.168.1.4:5200",Y=(0,t.aZ)({name:"IndexPage",components:{GeoLocationVue:W},setup(){const l=e(9981);let n=(0,P.iH)(""),o=(0,P.iH)(null);const i=(0,P.iH)(null),c=(0,P.iH)(null),s={deviceId:""};let a=(0,P.iH)("");(0,t.bv)((async()=>{const n=await H.A.getId();s.deviceId=n.uuid;const e=await l.get(`${_}/zone`);a.value=e.data.id,console.log(e.data.id)}));const u=async()=>{console.log("Getting data..."),c.value=s.deviceId,console.log("atrybut device id: "+s.deviceId),d()},d=async()=>{console.log("Co jest wysyłane: ",s);const n=await l.post(`${_}/DeviceManager`,s);console.log("Sent response: ",n)},M=async e=>{console.log("jakie dane przyszły: ",e),n.value=e;const t={deviceId:s.deviceId,latitude:e.latitude,longitude:e.longitude,recordedAt:new Date,zoneIds:[a.value]};console.log("nasz request gpsDataRequest: ",t);const c=await l.post(`${_}/gpsdata`,t);i.value=c.status,o.value=c};return{responseFromSledzik:i,fullResponseFromSledzik:o,data:n,positionChanged:M,displayPhoneId:c,onSendButton:u,contentStyle:{backgroundColor:"rgba(0,0,0,0.02)",color:"#555"},contentActiveStyle:{backgroundColor:"#eee",color:"black"},thumbStyle:{right:"2px",borderRadius:"5px",backgroundColor:"#027be3",width:"5px",opacity:"0.75"}}}});var F=e(6663);const R=(0,E.Z)(Y,[["render",p]]),K=R;B()(Y,"components",{QScrollArea:F.Z,QBtn:Q.Z})},5370:l=>{l.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxjaXJjbGUgc3R5bGU9ImZpbGw6IzMxQkFGRDsiIGN4PSIyNTYiIGN5PSIyNTYiIHI9IjI1NiIvPg0KPHBhdGggc3R5bGU9ImZpbGw6IzJCOUVEODsiIGQ9Ik01MTIsMjU2YzAtOC4xNTEtMC4zOTgtMTYuMjA1LTEuMTQzLTI0LjE2MWwtMTE1LjM0OC0xMTUuMzVsLTIxMC42MiwyMTAuNjIybDkuNDg4LDcwLjk2Ng0KCWwxMDkuNDQ0LDEwOS40NDZDNDIyLjM0OCw0ODUuMTIzLDUxMiwzODEuMDM4LDUxMiwyNTZ6Ii8+DQo8cGF0aCBzdHlsZT0iZmlsbDojRTZGM0ZGOyIgZD0iTTM5NS41MDksMTE2LjQ5MWMyOS4yNTYsMTY0LjE1OS0yMDEuMTMyLDIwMS4xMzMtMjAxLjEzMiwyMDEuMTMzUzIzMS4zNTIsODcuMjM3LDM5NS41MDksMTE2LjQ5MXoiDQoJLz4NCjxwYXRoIHN0eWxlPSJmaWxsOiNDRkRCRTY7IiBkPSJNMzk1LjUwOSwxMTYuNDkxYy0wLjE2Ny0wLjAyOS0wLjMyOS0wLjA0OC0wLjQ5Ni0wLjA3OGwtMjAwLjUyLDIwMC41Mg0KCWMtMC4wNzgsMC40NTItMC4xMTcsMC42OTEtMC4xMTcsMC42OTFTNDI0Ljc2MywyODAuNjQ4LDM5NS41MDksMTE2LjQ5MXoiLz4NCjxwb2x5Z29uIHN0eWxlPSJmaWxsOiNFNkYzRkY7IiBwb2ludHM9IjE5NC4zNzcsMzE3LjYyNCAxMTMuOTI0LDMxNy42MjMgMTk0LjM3NywzOTguMDc3ICIvPg0KPHBvbHlnb24gc3R5bGU9ImZpbGw6I0NGREJFNjsiIHBvaW50cz0iMTUzLjg2NCwzNTcuNTY0IDE5NC4zNzcsMzk4LjA3NyAxOTQuMzc3LDMxNy42MjQgMTkzLjgwMSwzMTcuNjI0ICIvPg0KPGNpcmNsZSBzdHlsZT0iZmlsbDojMzI0QTVFOyIgY3g9IjM1NS4yOCIgY3k9IjE0NC41MzIiIHI9IjYuODk2Ii8+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg=="}}]);